<!DOCTYPE html>
<html>
<head>
    <style>
        input[type=text] {
            width: 100%;
            padding: 12px 20px;
            margin: 8px 0;
            box-sizing: border-box;
        }
    </style>
</head>
<body>

<h2>Overlay Selector</h2>

<select id="listbox" size="4" onclick="fillTextBoxes()">
</select>

<p>Name:</p>
<input type="text" id="name">

<p>Top:</p>
<input type="text" id="top">

<p>Bottom:</p>
<input type="text" id="bottom">

<button onclick="addItem()">Add</button>
<button onclick="deleteItem()">Delete</button>
<button onclick="editItem()">Edit</button>
<button onclick="showFunction()">Show</button>

<script>
var items = [];

function fillTextBoxes() {
    var listbox = document.getElementById("listbox");
    var selectedItem = items[listbox.selectedIndex];
    document.getElementById("name").value = selectedItem.name;
    document.getElementById("top").value = selectedItem.top;
    document.getElementById("bottom").value = selectedItem.bottom;
}

function addItem() {
    var name = document.getElementById("name").value;
    var top = document.getElementById("top").value;
    var bottom = document.getElementById("bottom").value;
    var item = {name: name, top: top, bottom: bottom};
    items.push(item);
    updateListbox();
    document.getElementById("name").value = "";
    document.getElementById("top").value = "";
    document.getElementById("bottom").value = "";
}

function deleteItem() {
    var listbox = document.getElementById("listbox");
    if (listbox.selectedIndex != -1) { // Check if an item is selected
        items.splice(listbox.selectedIndex, 1);
        updateListbox();
        document.getElementById("name").value = "";
        document.getElementById("top").value = "";
        document.getElementById("bottom").value = "";
    }    
}

function editItem() {
    var listbox = document.getElementById("listbox");
    var name = document.getElementById("name").value;
    var top = document.getElementById("top").value;
    var bottom = document.getElementById("bottom").value;
    var item = {name: name, top: top, bottom: bottom};
    items[listbox.selectedIndex] = item;
    updateListbox();
}

function showFunction() {
    var listbox = document.getElementById("listbox");
    var selectedItem = items[listbox.selectedIndex];
    var url = "http://example.com?top=" + selectedItem.top + "&bottom=" + selectedItem.bottom;
    window.open(url, "_blank");
}

function updateListbox() {
    var listbox = document.getElementById("listbox");
    listbox.innerHTML = "";
    for (var i = 0; i < items.length; i++) {
        var option = document.createElement("option");
        option.text = items[i].name;
        listbox.add(option);
    }
}
</script>

</body>
</html>
